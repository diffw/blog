{{ define "main" }}
<div class="posts-container">
  {{ if .Content }}
  <div class="content">
    {{ .Content }}
  </div>
  {{ end }}
  
  <div class="posts-list">
    {{ range .Paginator.Pages }}
    <article class="post-card">
      <div class="post-content-preview">
        {{ $content := .Content | plainify }}
        {{ $truncated := $content | truncate 100 }}
        <p>{{ $truncated }}</p>
        {{ if gt (len $content) 100 }}
        <a href="{{ .Permalink }}" class="read-more">Read more...</a>
        {{ end }}
      </div>
      <div class="post-meta-bottom">
        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
        {{ if .Params.tags }}
        <div class="post-tags">
          {{ range .Params.tags }}
          <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">#{{ . }}</a>
          {{ end }}
        </div>
        {{ end }}
      </div>
    </article>
    {{ end }}
  </div>
  
  {{ if gt .Paginator.TotalPages 1 }}
  <nav class="pagination">
    {{ if .Paginator.HasPrev }}
    <a href="{{ .Paginator.Prev.URL }}" class="pagination-link prev">← Previous</a>
    {{ end }}
    <span class="pagination-info">Page {{ .Paginator.PageNumber }} of {{ .Paginator.TotalPages }}</span>
    {{ if .Paginator.HasNext }}
    <a href="{{ .Paginator.Next.URL }}" class="pagination-link next">Next →</a>
    {{ end }}
  </nav>
  {{ end }}
</div>
{{ end }}

