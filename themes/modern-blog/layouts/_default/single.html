{{ define "main" }}
{{ if eq .Section "" }}
{{/* Page template - for pages not in posts section */}}
<article class="post-single page-single">
  <header class="post-header">
    <h1 class="post-title">{{ .Title }}</h1>
    <div class="post-meta">
      {{ if .Params.categories }}
      <span class="categories">
        {{ range .Params.categories }}
        <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" class="category-tag">{{ . }}</a>
        {{ end }}
      </span>
      {{ end }}
    </div>
  </header>
  
  <div class="post-content">
    {{ .Content }}
  </div>
  
  {{ if .Params.tags }}
  <div class="post-tags">
    {{ range .Params.tags }}
    <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">#{{ . }}</a>
    {{ end }}
  </div>
  {{ end }}
</article>
{{ else }}
{{/* Post template - for posts in posts section */}}
<article class="post-single">
  <header class="post-header">
    <h1 class="post-title">{{ .Title }}</h1>
    <div class="post-meta">
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
      {{ if .Params.categories }}
      <span class="categories">
        {{ range .Params.categories }}
        <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" class="category-tag">{{ . }}</a>
        {{ end }}
      </span>
      {{ end }}
    </div>
  </header>
  
  <div class="post-content">
    {{ .Content }}
  </div>
  
  {{ if .Params.tags }}
  <div class="post-tags">
    {{ range .Params.tags }}
    <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">#{{ . }}</a>
    {{ end }}
  </div>
  {{ end }}
  
  <footer class="post-footer">
    <div class="post-nav">
      {{ with .PrevInSection }}
      <a href="{{ .Permalink }}" class="post-nav-link prev">
        <span class="nav-label">← Previous</span>
        <span class="nav-title">{{ .Title }}</span>
      </a>
      {{ end }}
      {{ with .NextInSection }}
      <a href="{{ .Permalink }}" class="post-nav-link next">
        <span class="nav-label">Next →</span>
        <span class="nav-title">{{ .Title }}</span>
      </a>
      {{ end }}
    </div>
  </footer>
</article>
{{ end }}
{{ end }}

