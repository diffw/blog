{{ define "main" }}
<div class="home-page">
  {{ if .Site.Params.description }}
  <div class="home-intro">
    <p>{{ .Site.Params.description }}</p>
  </div>
  {{ end }}
  
  <h1 class="page-title">最新文章</h1>
  
  <div class="posts-list">
    {{ range first 10 .Site.RegularPages }}
    <article class="post-card">
      <div class="post-meta">
        <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "2006年1月2日" }}</time>
        {{ if .Params.categories }}
        <span class="categories">
          {{ range .Params.categories }}
          <a href="{{ "/categories/" | relLangURL }}{{ . | urlize }}" class="category-tag">{{ . }}</a>
          {{ end }}
        </span>
        {{ end }}
      </div>
      <h2 class="post-title">
        <a href="{{ .Permalink }}">{{ .Title }}</a>
      </h2>
      {{ if .Description }}
      <p class="post-excerpt">{{ .Description }}</p>
      {{ else }}
      <p class="post-excerpt">{{ .Summary | truncate 150 }}</p>
      {{ end }}
      {{ if .Params.tags }}
      <div class="post-tags">
        {{ range .Params.tags }}
        <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}" class="tag">#{{ . }}</a>
        {{ end }}
      </div>
      {{ end }}
    </article>
    {{ end }}
  </div>
  
  {{ if gt (len .Site.RegularPages) 10 }}
  <div class="more-posts">
    <a href="{{ "/posts/" | relLangURL }}" class="btn">查看更多文章 →</a>
  </div>
  {{ end }}
</div>
{{ end }}

